!function(t){var a={};function e(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)e.d(r,i,function(a){return t[a]}.bind(null,i));return r},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=0)}([function(t,a,e){"use strict";e.r(a);e(1);$.ajax({url:"https://nit.tron.net.ua/api/category/list",type:"GET",success:function(t){var a="",e=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var d=n.value;a+="<a class='dropdown-item ' data-id='"+d.id+"' data-name='"+d.name+"'>"+d.name+"</a>"}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}$(".category-dropdown").html(a)},error:function(){alert("Error while loading data!")}}),$.ajax({url:"https://nit.tron.net.ua/api/product/list/category/2",type:"GET",success:function(t){var a="",e=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var d,c=n.value;null==c.special_price?(d="<p class='card-text desc'><a class=card-text>"+c.price+"</a></p>",c.price):(d="<p class='card-text desc' ><h8 class=prev-price> "+c.price+"</h8><a class=card-text> "+c.special_price+"</a></p>",c.special_price),a+="<div class = 'col-lg-3 col-md-4 col-sm-6'><div class='item card pb-3 h-100 w-100'><div class='image-card' style='background-image: url("+c.image_url+")'></div><div class='card-body d-flex flex-column gridcolor'><h4 class='card-title desc'>"+c.name+"</h4>"+d+"<div class='btn-group-vertical item_modal mt-auto w-100'><button data-name='"+c.name+"' data-image='"+c.image_url+"' data-price='"+c.price+"' data-sp-price='"+c.special_price+"' data-desc='"+c.description+"' data-idd='"+c.id+"' class='button w-100 item-info' data-toggle='modal' data-target='#modal-items'>Info</button><button data-name='"+c.name+"' data-price='"+c.price+"' data-sp-price='"+c.special_price+"' data-desc='"+c.description+"' data-idd='"+c.id+"' class='button mt-auto w-100 add-to-cart'>Buy</button></div></div></div></div>"}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}$(".items").html(a),$(".category").html("<h4>Category: Smartphones</h4>")},error:function(){alert("Error while loading data!")}}),$(".category-dropdown").on("click",".dropdown-item",(function(t){$(this).data("name");$.ajax({url:"https://nit.tron.net.ua/api/product/list/category/"+$(this).data("id"),type:"GET",success:function(t){var a="",e=!0,r=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var d,c=n.value;null==c.special_price?(d="<p class='card-text desc'> <a class=card-text>"+c.price+"</a></p>",c.price):(d="<p class='card-text desc' ><h8 class=prev-price> "+c.price+"</h8><a class=card-text> "+c.special_price+"</a></p>",c.special_price),a+="<div class = 'col-lg-3 col-md-4 col-sm-6'><div class='item card pb-3 h-100 w-100'><div class='image-card' style='background-image: url("+c.image_url+")'></div><div class='card-body d-flex flex-column gridcolor'><h4 class='card-title desc'>"+c.name+"</h4>"+d+"<div class='btn-group-vertical item_modal mt-auto w-100'><button data-name='"+c.name+"' data-image='"+c.image_url+"' data-price='"+c.price+"' data-sp-price='"+c.special_price+"' data-desc='"+c.description+"' data-idd='"+c.id+"' class='button w-100 item-info' data-toggle='modal' data-target='#modal-items'>Info</button><button data-name='"+c.name+"' data-price='"+c.price+"' data-sp-price='"+c.special_price+"' data-desc='"+c.description+"' data-idd='"+c.id+"' class='button mt-auto w-100 add-to-cart'>Buy</button></div></div></div></div>"}}catch(t){r=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw i}}$(".items").html(a),$(".category").html("<h4>Category: Smartphones</h4>")},error:function(){alert("Error while loading data!")}})}));var r=function(){var t=[];function a(t,a,e,r){this.name=t,this.price=a,this.amount=e,this.id=r}var e={add:function(e,r,i){for(var n in t)if(t[n].id===i)return void t[n].amount++;var o=new a(e,r,1,i);t.push(o)},remove:function(a){for(var e in t)if(t[e].name===a){t[e].amount--,0===t[e].amount&&t.splice(e,1);break}},removeAll:function(a){for(var e in t)if(t[e].name===a){t.splice(e,1);break}},clearCart:function(){t=[]},totalAmount:function(){var a=0;for(var e in t)a+=t[e].amount;return a},totalPrice:function(){var a=0;for(var e in t)a+=t[e].price*t[e].amount;return Number(a.toFixed(2))},list:function(){var a=[];for(var e in t){var r=t[e],i={};for(var n in r)i[n]=r[n];i=Number(r.price*r.amount).toFixed(2),a.push(i)}return t}};return e}();function i(){var t=r.list(),a="";for(var e in t){var i=t[e].name,n=t[e].price;a+="<tr><td>"+i+"</td><td>"+n+"$</td><td>"+t[e].amount+"</td><td><button class='add-item btn button' data-name='"+i+"' data-price='"+n+"' data-id='"+t[e].id+"'>+</button></td><td><button class='remove-item btn button' data-name='"+i+"'>-</button></td><td><button class='delete-item btn button' data-name='"+i+"'>X</button></td></tr>"}$(".show-cart").html(a),$(".total-price").html(r.totalPrice()+"$"),$(".total-amount").html(r.totalAmount())}$(".items").on("click",".item-info",(function(t){var a;a="<div><div class='item card h-100 w-100'><div class='image-card' style='background-image: url("+$(this).data("image")+")'></div><div class='card-body d-flex flex-column gridcolor item-info-box'><h4 class='card-title desc'>"+$(this).data("name")+"</h4><p class='card-text desc'>"+$(this).data("price")+"</p><p class='card-text desc'>"+$(this).data("desc")+"</p><button data-name='"+$(this).data("name")+"' data-price='"+$(this).data("price")+"' data-sp-price='"+$(this).data("sp-price")+"' data-desc='"+$(this).data("desc")+"' data-idd='"+$(this).data("idd")+"' class='button mt-auto w-100 add-to-cart'>Buy</button></div></div></div>",$(".item-info-content").html(a)})),$(".items").on("click",".add-to-cart",(function(t){var a=$(this).data("name"),e=Number($(this).data("price")),n=$(this).data("idd");r.add(a,e,n),i()})),$(".item-info-content").on("click",".add-to-cart",(function(t){var a=$(this).data("name"),e=Number($(this).data("price")),n=$(this).data("idd");r.add(a,e,n),i()})),$(".clear").click((function(){r.clearCart(),i()})),$(".submit").click((function(){r.list();var t=document.getElementById("buyer-name").value,a=document.getElementById("email").value,e=document.getElementById("phone").value;if(0===r.totalAmount())alert("You have nothing to buy!");else if(""===t)alert("Please enter your name");else if(""===a)alert("Please enter your email");else if(a.includes("@"))if(""===e)alert("Please enter your phone");else{!function(t,a,e,n){var o="token=DEj5VTbxAcdMLFT5vK2d&name="+t+"&email="+a+"&phone="+e,d=!0,c=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(d=(s=u.next()).done);d=!0){var m=s.value,p=m.id;o+="&products["+m.amount+"]="+p}}catch(t){c=!0,l=t}finally{try{d||null==u.return||u.return()}finally{if(c)throw l}}$.ajax({type:"POST",url:"https://nit.tron.net.ua/api/order/add",token:"DEj5VTbxAcdMLFT5vK2d",dataType:"JSON",data:o,success:function(t){if(console.log(t),"success"===t.status)alert("Your order was successfuly ordered"),r.clearCart(),i();else{for(var a="",e=0,n=Object.values(t.errors);e<n.length;e++){a+=n[e]+"; "}alert(a)}},error:function(){alert("Error while loading data!")}})}(t,a,e,r.list())}else alert("Incorrect email")})),$("total-amount").html("<tr>"+r.totalAmount+"</tr>"),$(".show-cart").on("click",".add-item",(function(t){var a=$(this).data("name"),e=$(this).data("price"),n=$(this).data("id");r.add(a,e,n),i()})),$(".show-cart").on("click",".remove-item",(function(t){var a=$(this).data("name");r.remove(a),i()})),$(".show-cart").on("click",".delete-item",(function(t){var a=$(this).data("name");r.removeAll(a),i()})),i()},function(t,a,e){}]);